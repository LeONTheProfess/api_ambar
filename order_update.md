# Изменить или отменить заказ (не актуально, обновление через order!)

Метод позволяет изменить данные существующего заказа или отменить его.

PUT https://host/api/order/

## Заголовки

| Заголовок           | Значение                       |
|---------------------|--------------------------------|
| Content-Type        | application/json              |
| Authorization       | Bearer `<your-token>`         |

---

## Тело запроса (изменение заказа)

```json
{
  "owner_id": "123",                            // id клиента (обязательно)
  "order_no": "ord123",                         // номер заказа (обязательно)
  "comment": "Измененный комментарий",          // комментарий (не обязательно)
  "need_delivery": true,                        // нужна доставка (не обязательно)
  "plan_delivery_date": "28.11.2024",           // плановая дата доставки (не обязательно)
  "time_min": "10:00",                          // время от (не обязательно)
  "time_max": "14:00",                          // время до (не обязательно)
  "address":                                    // адрес (не обязательно)
  {
    "name": "Джон",                             // имя (не обязательно)
    "last_name": "Доу",                         // фамилия (не обязательно)
    "phone": "+79998887766",                    // телефон (не обязательно)
    "full_address": "г Москва, ул Ленина, д 1", // адрес (не обязательно)
    "floor": 3,                                 // этаж (не обязательно)
    "intercom": "456",                          // домофон (не обязательно)
    "elevator_type": "пассажирский"             // тип лифта (не обязательно)
  },
  "pass":                                       // пропуск (не обязательно)
  {
    "name": "Джон Доу",                         // ФИО (не обязательно)
    "car_num": "T123СТ777"                      // номер авто (не обязательно)
  },
  "grms":["GRM000013", "GRM000014"]             // массив грузовых мест (не обязательно)
}
```

---

## Тело запроса (отмена заказа)

```json
{
  "cancel_reason": "Клиент передумал"           // причина отмены (обязательно)
}
```

---

## Ответы

### <span style="color: green;">200 ОК</span>

#### Тело ответа

```json
{
  "result": "Ok"
}
```

---

### <span style="color: red;">400 Bad Request</span>
Запрос содержит неправильные данные.
#### Тело ответа

```json
{
  "result": "error",
  "errors":
  [
    {
      "message": "В запросе не задано plan_delivery_date."
    }
  ]
}
```

---

### <span style="color: red;">401 Unauthorized</span>
В запросе не указаны данные для авторизации.
#### Тело ответа

```json
{
  "result": "error",
  "errors":
  [
    {
      "message": "В запросе не указаны данные для авторизации."
    }
  ]
}
```

---

### <span style="color: red;">403 Forbidden</span>
Данные для авторизации неверны или доступ к ресурсу запрещен.
#### Тело ответа

```json
{
  "result": "error",
  "errors":
  [
    {
      "message": "Данные для авторизации неверны."
    }
  ]
}
```

---

### <span style="color: red;">404 Not Found</span>
Заказ с указанным идентификатором не найден.
#### Тело ответа

```json
{
  "result": "error",
  "errors":
  [
    {
      "message": "Заказ не найден."
    }
  ]
}
```

---

### <span style="color: red;">409 Conflict</span>
Заказ невозможно изменить, так как он уже обработан.
#### Тело ответа

```json
{
  "result": "error",
  "errors":
  [
    {
      "message": "Заказ уже обработан и не может быть изменен."
    }
  ]
}
```
