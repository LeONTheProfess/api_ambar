# Изменить или отменить ASN (не актуально, обновление через asn!) 

Метод позволяет изменить данные существующего ASN или отменить его.

POST https://apiamb.kosmoslogistic.ru/api?command=asn

## Заголовки

| Заголовок           | Значение                       |
|---------------------|--------------------------------|
| Content-Type        | application/json              |
| Authorization       | `<your-token>`         |

---

## Тело запроса (изменение ASN)

```json
{
  "asn_no": "OF101010",                 // номер асн (обязательно)
  "comment": "Обновленный комментарий", // комментарий (не обязательно)
  "need_delivery": true,                // нужна доставка (не обязательно)
  "plan_delivery_date": "28.11.2024",   // плановая дата доставки (не обязательно)
  "time_min": "10:00",                  // время от (не обязательно)
  "time_max": "14:00",                  // время до (не обязательно)
  "address":                            // адрес (не обязательно)
  {
    "name": "Джейн",                    // имя (не обязательно)
    "last_name": "Смит",                // фамилия (не обязательно)
    "phone": "+79998887777",            // телефон (не обязательно)
    "full_address": "г Москва, ул Тверская, д 10 кв 15", // адрес (не обязательно)
    "floor": 3,                         // этаж (не обязательно)
    "intercom": "456",                  // домофон (не обязательно)
    "elevator_type": "пассажирский"     // тип лифта (не обязательно)
  },
  "pass":                               // пропуск (не обязательно)
  {
    "name": "Джейн Смит",               // ФИО (не обязательно)
    "car_num": "A456BC777"              // номер авто (не обязательно)
  }
}
```

---

## Тело запроса (отмена ASN)

```json
{
  "cancel_reason": "Клиент передумал"   // причина отмены (обязательно)
}
```

---

## Ответы

### <span style="color: green;">200 ОК</span>

#### Тело ответа

```json
{
  "result": "Ok"
}
```

---

### <span style="color: red;">400 Bad Request</span>
Запрос содержит неправильные данные.
#### Тело ответа

```json
{
  "result": "error",
  "errors":
  [
    {
      "message": "В запросе не задано plan_delivery_date."
    }
  ]
}
```

---

### <span style="color: red;">401 Unauthorized</span>
В запросе не указаны данные для авторизации.
#### Тело ответа

```json
{
  "result": "error",
  "errors":
  [
    {
      "message": "В запросе не указаны данные для авторизации."
    }
  ]
}
```

---

### <span style="color: red;">403 Forbidden</span>
Данные для авторизации неверны или доступ к ресурсу запрещен.
#### Тело ответа

```json
{
  "result": "error",
  "errors":
  [
    {
      "message": "Данные для авторизации неверны."
    }
  ]
}
```

---

### <span style="color: red;">404 Not Found</span>
ASN с указанным идентификатором не найден.
#### Тело ответа

```json
{
  "result": "error",
  "errors":
  [
    {
      "message": "ASN не найден."
    }
  ]
}
```

---

### <span style="color: red;">409 Conflict</span>
ASN невозможно изменить, так как он уже обработан.
#### Тело ответа

```json
{
  "result": "error",
  "errors":
  [
    {
      "message": "ASN уже обработан и не может быть изменен."
    }
  ]
}
```
